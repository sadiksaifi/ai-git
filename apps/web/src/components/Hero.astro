---
import { hero } from "@ai-git/content/web";
---

<section class="px-6 pt-32 pb-24 md:pt-40 md:pb-32">
  <div class="mx-auto max-w-4xl text-center">
    <h1 class="text-5xl font-bold tracking-tight md:text-7xl">
      {hero.headline}
    </h1>
    <p class="mt-6 text-lg text-neutral-400 md:text-xl">
      {hero.subheadline}
    </p>
    <div class="mt-10 flex flex-col items-center gap-5">
      <!-- Primary CTA -->
      <a
        href="#installation"
        class="rounded-lg bg-white px-8 py-3.5 text-sm font-semibold text-neutral-950 transition-colors hover:bg-neutral-200"
      >
        {hero.primaryCTA.label}
      </a>

      <!-- Install command with copy -->
      <button
        type="button"
        class="group flex items-center gap-3 rounded-lg border border-neutral-800 bg-neutral-900/50 px-5 py-2.5 font-mono text-sm text-neutral-400 transition-colors hover:border-neutral-700 hover:text-neutral-300"
        data-copy-button
        data-copy-text={hero.primaryCTA.command}
      >
        <span class="text-neutral-600">$</span>
        <span>{hero.primaryCTA.command}</span>
        <svg class="h-4 w-4 text-neutral-600 transition-colors group-hover:text-neutral-400" data-copy-icon fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
        </svg>
        <span class="hidden text-xs text-green-400" data-copy-feedback>Copied!</span>
      </button>
    </div>
  </div>
</section>

<script>
  document.querySelectorAll("[data-copy-button]").forEach((button) => {
    button.addEventListener("click", async () => {
      const text = button.getAttribute("data-copy-text");
      if (!text) return;

      await navigator.clipboard.writeText(text);

      const icon = button.querySelector("[data-copy-icon]");
      const feedback = button.querySelector("[data-copy-feedback]");

      icon?.classList.add("hidden");
      feedback?.classList.remove("hidden");

      setTimeout(() => {
        icon?.classList.remove("hidden");
        feedback?.classList.add("hidden");
      }, 2000);
    });
  });
</script>
